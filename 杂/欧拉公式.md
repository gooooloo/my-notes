# 欧拉公式的逻辑

## 第一步：扩展到无穷维

1. 已知实数域
2. 定义一个新的维度，记为 `i`。我们的目标是使得 实数 和 `i` 能够生成一个能定义乘法和除法的一个域。我们的第一次尝试是定义基本元素为二维向量`(a1,a2)`
   1. 元素可以和实数进行数乘：`x * (a1, a2) = (x*a1, x*a2)`
   2. 两个元素可以相加：`(a1, a2) + (b1, b2) = (a1+b1, a2+b2)`
   3. 两个元素可以相乘：`(a1, a2) * (b1, b2)=(a1*b1, a1*b2+a2*b1, a2*b2*???)` ---- `i*i` 没有定义！
3. 需要引入 `i`, `i^2`, `i^3`,...。于是基本元素定义为`(a1, a2, a3, ...)`这是一个无穷维向量。
   1. 元素可以和实数进行数乘：`x*(a1, a2, ...) = (x*a1, x*a2, ...)`
   2. 两个元素可以相加：`(a1, a2, ...) + (b1, b2, ...) = (a1+b1, a2+b2,...)`
   3. 两个元素可以相乘：`(a1, a2, ...) * (b1, b2, ...) = (a1*b1, a1*b2+a2*b1, a2*b2+..., ...)`
4. 我们现在有了一个新的代数结构，里面有加法、乘法、实系数的数乘。但是不一定有除法 ---- 不是所有元素都有乘法逆元。
5. 于是可以在这个代数结构上定义实系数多项式。它是**无穷维**的一个实系数线性空间，它的基是 {i^0, i^1, i^2, i^3, ... }。而且是一个环。

## 第二步：化简成有限维

1. 引入 `i^k=x`, 其中 `x` 是一个实数，具体值待定；`k`是一个正整数，具体值也待定。
2. 且在基本元素定义里不考虑 第 1 维 和 第 `k+1` 维、第`2k+1`维……等模`k`同余维数的区别，
3. 则基本元素可以化简为  `(a1,a2,...,ak)`
   1. 元素可以和实数进行数乘：`x*(a1, a2, ..., ak) = (x*a1, x*a2, ..., x*ak)`
   2. 两个元素可以相加：`(a1, a2, ..., ak) + (b1, b2, ..., bk) = (a1+b1, a2+b2,..., ak+bk)`
   3. 两个元素可以相乘：`(a1, a2, ..., ak) * (b1, b2, ..., bk) = (a1*b1+x*a2*bk+..., ..., a1*bk+...)`
4. 于是可以在这个代数结构上定义实系数多项式。它是**k维**的一个实系数线性空间，它的基是 {i^0, i^1, i^2, i^3, ..., i^(k-1) }。而且是一个环。

## 第三步：进一步化简

1. 令 k=2,x=-1, 则 `i^2=-1`
2. 则基本元素可以化简为  `(a1,a2)`
   1. 元素可以和实数进行数乘：`x*(a1, a2) = (x*a1, x*a2)`
   2. 两个元素可以相加：`(a1, a2) + (b1, b2) = (a1+b1, a2+b2)`
   3. 两个元素可以相乘：`(a1, a2) * (b1, b2) = (a1*b1-a2*b2, a1*b2+a2*b1)`
3. 于是可以在这个代数结构上定义实系数多项式。它是**2维**的一个实系数线性空间，它的基是 {1, i}。而且是一个环。

## 第四步：考察泰勒级数

1. 在实数上泰勒级数收敛于 `e^x`

2. 由第三步，泰勒级数在复数域上有定义。

3. 它处处收敛。（此处需要证明）。

   1. 据说这个收敛用到了 `i^2= 某个实数` 的性质，但不需要用到 -1 的值。 

4. 从而可以把泰勒级数记为 `f(z)`

5. `f(ix)=cos(x)+i*sin(x)` ---- 利用 `i^2=-1` 对泰勒级数化简即可证明。以下证明来自珠洪。

   <img src="../img/image-20210418234539602.png" alt="image-20210418234539602" style="zoom: 25%;" />

   5.1 这个说明 `f(ix)` 的**图像轨迹是一个单位圆**，且**点位就是旋转的角度**。

   5.2 其实由这个**已经得到 `f(i*π)=-1` **了。

6. `f(z1+z2)=f(z1)*f(z2)` ---- 对泰勒展开进行硬算即可，不需要用到 `i^2=-1` ---- 但需要利用到级数收敛的保证，所以需要 `i^2=实数`。以下证明来自珠洪。

   <img src="../img/image-20210418234619356.png" alt="image-20210418234619356" style="zoom: 25%;" />

   5.1 特例 `f(ix1+ix2) = f(ix1) * f(ix2)` ，从而**单位圆上的乘法就是两次旋转叠加**

   5.2 特例 `f(a+bi)=f(a)*f(bi)`，从而`a`代表了**延长`f(a)`倍 ** ---- 这是个实数。

   5.3 特例 `f((a+bi)+(c+di)) = f(a)*f(c)*f((b+d)i)`，从而是**两次延长叠加，两次旋转也叠加**

## 第五步：泰勒级数化为自然指数

1. 如果在复数域上定义一个 `e^z`，我们希望它是实数域上 的 `e^x` 的解析延拓
2. 复数域上的 `f(z)` 是实数域上的 `f(x)` 的解析延拓
3. 实数域上 `f(x)` 和 ` e^x` 相等
4. 由解析延拓的唯一性，如果复数域上定义的`e^z`必须是 实数域上的 `e^x`的解析延拓的话，那么就必有 `e^z=f(z)` 
5. 从而这个定义下的 `e^(iπ)=-1`

## 总结

所以其实 `e^(iπ)=-1`是有 泰勒级数 + 解析延拓 + `i^2=-1` 共同决定的。

## 附录：如果 `i^2`不是`-1`会怎样？

1. 泰勒级数依旧收敛

2. 但 `f(ix)` 和 `cosx+isinx` 不再相等。实际上：

   <img src="../img/image-20210419002138240.png" alt="image-20210419002138240" style="zoom: 50%;" />

   2.1 他的轨迹是单位圆在 i 轴方向压缩了 `sqrt(k)` 倍

   2.2 他的旋转速度也加快了 `sqrt(k)` 倍